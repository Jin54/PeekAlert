# 👁️ PeekAlert

> 게임 중에도 Discord 알림을 놓치지 마세요.  
> 주모니터는 게임 그대로 — 서브모니터에 팝업으로 띄워줍니다.

---

## 🎯 이런 분께 필요해요

- 게임 중 전체화면 때문에 Discord 알림이 안 보이는 분
- 주모니터는 건드리지 않고 서브모니터에서 알림을 받고 싶은 분
- 별도 기기 없이 간단하게 알림 미러링을 하고 싶은 분

---

## ✨ 주요 기능

| 기능 | 설명 |
|------|------|
| 🖥️ 서브모니터 팝업 | Discord 알림을 지정한 모니터에 팝업으로 표시 |
| 📐 크기 / 위치 조절 | 너비, 높이, 여백, X/Y 오프셋 설정 가능 |
| 🎨 색상 커스터마이징 | 배경색, 강조색, 텍스트 색상 자유롭게 변경 |
| 🔤 텍스트 크기 조절 | 제목/본문 폰트 크기 개별 설정 |
| 📦 최대 팝업 수 제한 | 동시에 표시할 팝업 개수 설정 (초과 시 오래된 것 자동 제거) |
| ⏱️ 표시 시간 설정 | 팝업 자동 닫힘 시간 조절 (1~15초) |
| 💧 투명도 조절 | 팝업 투명도 설정 |
| 🗂️ 트레이 상주 | 시스템 트레이에서 조용히 실행, 우클릭으로 설정/종료 |
| 💾 설정 자동 저장 | 변경 사항이 JSON 파일에 저장되어 재시작 후에도 유지 |

---

## 🚀 시작하기

### 방법 1 — EXE 실행 (권장)

1. [Releases](../../releases) 에서 `PeekAlert.exe` 다운로드
2. 원하는 폴더에 놓고 실행
3. 트레이 아이콘 우클릭 → **설정** 에서 서브모니터 지정

### 방법 2 — Python으로 직접 실행

```bash
# Python 3.9 이상 필요
python peekalert.py
```

> 첫 실행 시 `pystray`, `Pillow` 패키지가 자동 설치됩니다.

---

## 🔨 EXE 직접 빌드

세 파일을 같은 폴더에 놓고 실행하세요.

```
peekalert.py
make_icon.py
build.py
```

```bash
python build.py
```

빌드가 완료되면 `dist/PeekAlert.exe` 가 생성됩니다.

---

## ⚙️ 설정 항목

트레이 아이콘 우클릭 → **설정** 에서 GUI로 변경 가능합니다.

```
📍 팝업 위치
  - 모니터 선택     : 주모니터 / 서브모니터
  - 위치           : 우하단 / 좌하단 / 우상단 / 좌상단
  - 여백 (px)
  - X / Y 오프셋   : 세밀한 위치 조정

📐 팝업 크기
  - 너비 / 높이 (px)

⏱ 표시 / 개수 / 투명도
  - 표시 시간       : 1 ~ 15초
  - 최대 팝업 수    : 1 ~ 10개 (쌓이는 방식)
  - 투명도          : 30 ~ 100%

🔤 텍스트
  - 제목 크기 / 본문 크기
  - 제목 색상 / 본문 색상

🎨 배경
  - 배경색 / 강조색 (왼쪽 컬러 바)
```

설정은 `peekalert_config.json` 파일에 저장됩니다.

---

## 🖥️ 시스템 요구사항

| 항목 | 요구사항 |
|------|---------|
| OS | Windows 10 / 11 |
| Python | 3.9 이상 (직접 실행 시) |
| 모니터 | 2대 이상 |
| Discord | Windows 데스크톱 앱 |

> Discord 알림이 Windows 알림 센터에 표시되도록 설정되어 있어야 합니다.  
> Discord 설정 → 알림 → "Windows 알림 사용" 활성화

---

## 🪟 윈도우 시작 시 자동 실행

1. `Win + R` → `shell:startup` 입력 후 Enter
2. 열린 폴더에 `PeekAlert.exe` 바로가기 붙여넣기

---

## 🧠 동작 원리

Windows는 모든 앱의 알림을 `wpndatabase.db` (SQLite) 에 저장합니다.  
PeekAlert는 이 파일을 1초마다 읽어 Discord 알림을 감지하고,  
지정된 서브모니터 위치에 커스텀 팝업을 띄웁니다.

```
Discord 알림 발생
      ↓
wpndatabase.db 변경 감지 (1초 폴링)
      ↓
Discord HandlerId 필터링
      ↓
서브모니터에 팝업 표시
```

---

## 📁 파일 구조

```
PeekAlert/
├── peekalert.py           # 메인 프로그램
├── make_icon.py           # 아이콘 생성 스크립트
├── build.py               # EXE 빌드 스크립트
├── peekalert_config.json  # 설정 파일 (자동 생성)
└── dist/
    └── PeekAlert.exe      # 빌드 결과물
```

---

## 🐛 문제 해결

**Discord 알림이 팝업으로 안 뜨는 경우**
- Discord → 설정 → 알림 → "Windows 알림 사용" 켜져 있는지 확인
- Windows 설정 → 알림 → Discord 알림 허용 여부 확인
- 트레이 아이콘 우클릭 → 테스트 팝업이 뜨는지 먼저 확인

**팝업이 주모니터에 뜨는 경우**
- 설정 → 모니터 선택에서 올바른 서브모니터 번호 선택
- 미리보기 버튼으로 위치 확인 후 저장

**EXE 빌드 실패**
- `python build.py` 실행 시 오류 메시지 확인
- Python 3.9 이상인지 확인: `python --version`

---

## 📄 라이선스

MIT License — 자유롭게 사용, 수정, 배포 가능합니다.
